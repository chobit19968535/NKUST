# -*- coding: utf-8 -*-
"""
Created on Mon Sep  2 13:44:37 2019

@author: user
"""

import pandas as pd
data = pd.read_csv('labels.csv')

cols = len(data.columns)
rows = len(data)
classes = {'B1' : 0, 'B2' : 1, 'B3' : 2, 'B4' : 3, 'B5' : 4, 'B6' : 5, 'B7' : 6, 'B8' : 7, 'B9' : 8
           , 'B10' : 9, 'B11' : 10, 'B12' : 11, 'B13' : 12, 'B14' : 13, 'B15' : 14, 'B16' : 15, 'B17' : 16
           , 'B18' : 17, 'B19' : 18, 'B20' : 19, 'B21' : 20, 'B22' : 21, 'B23' : 22, 'B24' : 23, 'B25' : 24
           , 'B26' : 25, 'B27' : 26, 'B28' : 27, 'B29' : 28, 'B30' : 29, 'B31' : 30, 'B32' : 31, 'B33' : 32
           , 'B34' : 33, 'B35' : 34, 'B36' : 35, 'B37' : 36, 'B38' : 37, 'B39' : 38, 'B40' : 39, 'B41' : 40
           , 'B42' : 41, 'B43' : 42, 'B44' : 43, 'B45' : 44, 'B46' : 45, 'B47' : 46, 'B48' : 47, 'B49' : 48
           , 'B50' : 49, 'B51' : 50, 'B52' : 51, 'B53' : 52, 'B54' : 53, 'B55' : 54, 'B56' : 55, 'B57' : 56
           , 'B58' : 57, 'B59' : 58, 'B60' : 59, 'B61' : 60, 'B62' : 61, 'B63' : 62, 'B64' : 63, 'B65' : 64
           , 'B66' : 65, 'B67' : 66, 'B68' : 67, 'B69' : 68, 'B70' : 69, 'B71' : 70, 'B72' : 71, 'B73' : 72
           , 'B74' : 73, 'B75' : 74, 'B76' : 75, 'B77' : 76, 'B78' : 77, 'B79' : 78, 'B80' : 79, 'B81' : 80
           , 'B82' : 81, 'B83' : 82, 'B84' : 83, 'B85' : 84, 'B86' : 85, 'B87' : 86, 'B88' : 87, 'B89' : 88
           , 'B90' : 89, 'B91' : 90, 'B92' : 91, 'B93' : 92, 'B94' : 93, 'B95' : 94, 'B96' : 95, 'B97' : 96
           , 'B98' : 97, 'B99' : 98, 'B100' : 99, 'B101' : 100, 'B102' : 101, 'B103' : 102, 'B104' : 103, 'B105' : 104}
flag = str()
img_path = 'D:\\Lycoris\\DataBank\\Shop\\Train_single\\'
# =============================================================================
f = open('lines.txt','w')
f.close()
# =============================================================================
for i in range(rows):   
    img = data.filename[i]
    bbox = [
    data['xmin'][i],
    data['ymin'][i],
    data['xmax'][i],
    data['ymax'][i],
    classes[data['class'][i]]
    ]
    line = str(bbox).strip('[]').replace(" ", "")
    if ( flag == img ):
        f = open('lines.txt','a')
        f.write(' ' + line)
        f.close()
        
    else:
        f = open('lines.txt','a')
        f.write('\n' + img_path+img + ' ' + line)
        f.close()
    flag = img